{"version":3,"sources":["node_modules/_browser-pack@6.0.2@browser-pack/_prelude.js","app/index/js/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","$(document).ready(function() {\n    var CalculationCar = function() {\n        function CalculationCar(element, options) {\n            this.element = element;\n            this.setting = $.extend(true, $.fn.CalculationCar.defaults, options || {});\n            this.init();\n        }\n\n        CalculationCar.prototype = {\n            init: function init() {\n                this.ItemWarp = this.element.find('.lung_buycar--item'); //item 的盒\n                this.num = this.element.find('.number'); // 件数\n                this.money = this.element.find('.price'); // 钱数\n                this.goods = 0; // 共计选择的件数\n                this.dataObj = {\n                    total: {}, // url\n                    source: []\n                };\n                this.showAllItemCar();\n                this.getAllMoney();\n                this._addDeleteItemEvent();\n\n            },\n            // 查询条目\n            showAllItemCar: function() {\n                let self = this;\n                self.element.parent('.social').mouseover(function() {\n                    self.element.show();\n                })\n                self.element.mouseout(function() {\n                    $(this).hide();\n                })\n            },\n\n            /**\n             * 获取总价钱\n             * @Author   iSAM\n             * @DateTime 2017-08-10T14:50:32+0800\n             * @return   [获取总价钱和数据数组]\n             */\n            getAllMoney: function getAllMoney() {\n                var self = this,\n                    allMoney = 0,\n                    obj = {},\n                    goodsArr = [];\n\n                self.goods = 0; // 件数清零\n                self.dataObj.source.length = 0;\n                if (this.element.find('.lung_buycar--item').length === 0) {\n                    $('.lung_buycar--content').text('您的购物车没有商品，快去购物吧');\n                    self.num.text('0');\n                    self.money.text('0');\n                    return;\n                }\n                this.element.find('.lung_buycar--item').each(function(index, el) {\n                    // 没有被禁用 并且被选中\n                    var\n                    // 顶级父亲元素\n                        dataPrice = Number($(this).data('price')),\n                        dataType = Number($(this).data('type')),\n                        // 单项价格\n                        dataNum = Number($(this).data('num')),\n                        dataGoodsId = Number($(this).data('goodsid')),\n                        money = 0;\n                    self.goods += dataNum;\n                    money = self._allMoney(dataNum, dataPrice);\n                    allMoney += money;\n\n\n                    self.num.text(self.goods);\n                    self.money.text('￥' + self._addzero(allMoney));\n                    // self._showAllDelete();\n\n                });\n            },\n\n            /**\n             *为每个项目添加删除事件\n             * @Author   iSAM\n             * @DateTime 2017-08-11T13:58:10+0800\n             */\n            _addDeleteItemEvent: function() {\n                var self = this;\n                self.ItemWarp.each(function(index, el) {\n                    let parent = $(this);\n\n                    $(this).find('.order__delete').click(function(event) {\n                        let $this = $(this);\n                        let goodsid = parent.data('goodsid');\n                        let url = self.setting.deleteAjax;\n\n                        parent.remove();\n                        self.getAllMoney();\n                        self._ajax(goodsid, url);\n\n                    });\n                });\n            },\n\n            /**\n             * 计算价钱\n             * @Author   iSAM\n             * @DateTime 2017-08-10T14:21:20+0800\n             * @param    {number}      num [数量]\n             * @param    {number}      pri [单价]\n             * @return   {number}          [总价]\n             */\n            _allMoney: function _allMoney(num, pri) {\n                return Number((num * pri).toFixed(2));\n            },\n            _addzero: function _addzero(num) {\n\n                if ((num + '').indexOf('.') === -1) {\n                    return num = num + '.00';\n                }\n                var str = (num + '').split('.')[1];\n                if (str.length === 1) {\n                    return num + '0';\n                }\n                if (str.length === 2) {\n                    return num;\n                }\n            },\n            _ajax: function _ajax(ids, url, fn, allNum) {\n                let data = {};\n                if (allNum !== void(0)) {\n                    data['num'] = allNum;\n                }\n\n                data['ids'] = ids + '';\n                $.ajax({\n                    type: 'GET',\n                    url: url,\n                    data: data,\n                    dataType: 'json',\n                    success: function(data) {\n                        if (data.status == 1) {\n                            if (allNum === void(0)) {\n                                fn();\n                            }\n                        } else {\n\n                        }\n                    },\n                    error: function() {}\n                });\n\n            }\n        };\n        return CalculationCar;\n    }();\n\n    $.fn.CalculationCar = function(options) {\n        var $this = $(this),\n            instance = $this.data('buycar-calculation');\n        if (!instance) {\n            $this.data('buycar-calculation', instance = new CalculationCar($this, options));\n        }\n        return instance;\n    };\n    $.fn.CalculationCar.defaults = {\n        direction: 1000\n    };\n\n\n    var obj = $('#lung_buycar').CalculationCar({\n        deleteAjax: '/cart/del',\n        changCountAjax: '/cart/changeNumber'\n    });\n})"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMC4yQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsImFwcC9pbmRleC9qcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsRUFBRSxRQUFGLEVBQVksS0FBWixDQUFrQixZQUFXO0FBQ3pCLFFBQUksaUJBQWlCLFlBQVc7QUFDNUIsaUJBQVMsY0FBVCxDQUF3QixPQUF4QixFQUFpQyxPQUFqQyxFQUEwQztBQUN0QyxpQkFBSyxPQUFMLEdBQWUsT0FBZjtBQUNBLGlCQUFLLE9BQUwsR0FBZSxFQUFFLE1BQUYsQ0FBUyxJQUFULEVBQWUsRUFBRSxFQUFGLENBQUssY0FBTCxDQUFvQixRQUFuQyxFQUE2QyxXQUFXLEVBQXhELENBQWY7QUFDQSxpQkFBSyxJQUFMO0FBQ0g7O0FBRUQsdUJBQWUsU0FBZixHQUEyQjtBQUN2QixrQkFBTSxTQUFTLElBQVQsR0FBZ0I7QUFDbEIscUJBQUssUUFBTCxHQUFnQixLQUFLLE9BQUwsQ0FBYSxJQUFiLENBQWtCLG9CQUFsQixDQUFoQixDQURrQixDQUN1QztBQUN6RCxxQkFBSyxHQUFMLEdBQVcsS0FBSyxPQUFMLENBQWEsSUFBYixDQUFrQixTQUFsQixDQUFYLENBRmtCLENBRXVCO0FBQ3pDLHFCQUFLLEtBQUwsR0FBYSxLQUFLLE9BQUwsQ0FBYSxJQUFiLENBQWtCLFFBQWxCLENBQWIsQ0FIa0IsQ0FHd0I7QUFDMUMscUJBQUssS0FBTCxHQUFhLENBQWIsQ0FKa0IsQ0FJRjtBQUNoQixxQkFBSyxPQUFMLEdBQWU7QUFDWCwyQkFBTyxFQURJLEVBQ0E7QUFDWCw0QkFBUTtBQUZHLGlCQUFmO0FBSUEscUJBQUssY0FBTDtBQUNBLHFCQUFLLFdBQUw7QUFDQSxxQkFBSyxtQkFBTDtBQUVILGFBZHNCO0FBZXZCO0FBQ0EsNEJBQWdCLDBCQUFXO0FBQ3ZCLG9CQUFJLE9BQU8sSUFBWDtBQUNBLHFCQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9C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QU4sQ0FBVyxvQkFBWCxDQURmO0FBRUEsWUFBSSxDQUFDLFFBQUwsRUFBZTtBQUNYLGtCQUFNLElBQU4sQ0FBVyxvQkFBWCxFQUFpQyxXQUFXLElBQUksY0FBSixDQUFtQixLQUFuQixFQUEwQixPQUExQixDQUE1QztBQUNIO0FBQ0QsZUFBTyxRQUFQO0FBQ0gsS0FQRDtBQVFBLE1BQUUsRUFBRixDQUFLLGNBQUwsQ0FBb0IsUUFBcEIsR0FBK0I7QUFDM0IsbUJBQVc7QUFEZ0IsS0FBL0I7O0FBS0EsUUFBSSxNQUFNLEVBQUUsY0FBRixFQUFrQixjQUFsQixDQUFpQztBQUN2QyxvQkFBWSxXQUQyQjtBQUV2Qyx3QkFBZ0I7QUFGdUIsS0FBakMsQ0FBVjtBQUlILENBektEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIHZhciBDYWxjdWxhdGlvbkNhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBDYWxjdWxhdGlvbkNhcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5nID0gJC5leHRlbmQodHJ1ZSwgJC5mbi5DYWxjdWxhdGlvbkNhci5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIENhbGN1bGF0aW9uQ2FyLnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5JdGVtV2FycCA9IHRoaXMuZWxlbWVudC5maW5kKCcubHVuZ19idXljYXItLWl0ZW0nKTsgLy9pdGVtIOeahOebklxuICAgICAgICAgICAgICAgIHRoaXMubnVtID0gdGhpcy5lbGVtZW50LmZpbmQoJy5udW1iZXInKTsgLy8g5Lu25pWwXG4gICAgICAgICAgICAgICAgdGhpcy5tb25leSA9IHRoaXMuZWxlbWVudC5maW5kKCcucHJpY2UnKTsgLy8g6ZKx5pWwXG4gICAgICAgICAgICAgICAgdGhpcy5nb29kcyA9IDA7IC8vIOWFseiuoemAieaLqeeahOS7tuaVsFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YU9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHt9LCAvLyB1cmxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QWxsSXRlbUNhcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWxsTW9uZXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGREZWxldGVJdGVtRXZlbnQoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIOafpeivouadoeebrlxuICAgICAgICAgICAgc2hvd0FsbEl0ZW1DYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnQucGFyZW50KCcuc29jaWFsJykubW91c2VvdmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnQuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50Lm1vdXNlb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDojrflj5bmgLvku7fpkrFcbiAgICAgICAgICAgICAqIEBBdXRob3IgICBpU0FNXG4gICAgICAgICAgICAgKiBARGF0ZVRpbWUgMjAxNy0wOC0xMFQxNDo1MDozMiswODAwXG4gICAgICAgICAgICAgKiBAcmV0dXJuICAgW+iOt+WPluaAu+S7t+mSseWSjOaVsOaNruaVsOe7hF1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ2V0QWxsTW9uZXk6IGZ1bmN0aW9uIGdldEFsbE1vbmV5KCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgYWxsTW9uZXkgPSAwLFxuICAgICAgICAgICAgICAgICAgICBvYmogPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgZ29vZHNBcnIgPSBbXTtcblxuICAgICAgICAgICAgICAgIHNlbGYuZ29vZHMgPSAwOyAvLyDku7bmlbDmuIXpm7ZcbiAgICAgICAgICAgICAgICBzZWxmLmRhdGFPYmouc291cmNlLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5maW5kKCcubHVuZ19idXljYXItLWl0ZW0nKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmx1bmdfYnV5Y2FyLS1jb250ZW50JykudGV4dCgn5oKo55qE6LSt54mp6L2m5rKh5pyJ5ZWG5ZOB77yM5b+r5Y676LSt54mp5ZCnJyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubnVtLnRleHQoJzAnKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tb25leS50ZXh0KCcwJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpbmQoJy5sdW5nX2J1eWNhci0taXRlbScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOayoeacieiiq+emgeeUqCDlubbkuJTooqvpgInkuK1cbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIC8vIOmhtue6p+eItuS6suWFg+e0oFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVByaWNlID0gTnVtYmVyKCQodGhpcykuZGF0YSgncHJpY2UnKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZSA9IE51bWJlcigkKHRoaXMpLmRhdGEoJ3R5cGUnKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDljZXpobnku7fmoLxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFOdW0gPSBOdW1iZXIoJCh0aGlzKS5kYXRhKCdudW0nKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhR29vZHNJZCA9IE51bWJlcigkKHRoaXMpLmRhdGEoJ2dvb2RzaWQnKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb25leSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZ29vZHMgKz0gZGF0YU51bTtcbiAgICAgICAgICAgICAgICAgICAgbW9uZXkgPSBzZWxmLl9hbGxNb25leShkYXRhTnVtLCBkYXRhUHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICBhbGxNb25leSArPSBtb25leTtcblxuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubnVtLnRleHQoc2VsZi5nb29kcyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubW9uZXkudGV4dCgn77+lJyArIHNlbGYuX2FkZHplcm8oYWxsTW9uZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi5fc2hvd0FsbERlbGV0ZSgpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAq5Li65q+P5Liq6aG555uu5re75Yqg5Yig6Zmk5LqL5Lu2XG4gICAgICAgICAgICAgKiBAQXV0aG9yICAgaVNBTVxuICAgICAgICAgICAgICogQERhdGVUaW1lIDIwMTctMDgtMTFUMTM6NTg6MTArMDgwMFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfYWRkRGVsZXRlSXRlbUV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgc2VsZi5JdGVtV2FycC5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5vcmRlcl9fZGVsZXRlJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ29vZHNpZCA9IHBhcmVudC5kYXRhKCdnb29kc2lkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gc2VsZi5zZXR0aW5nLmRlbGV0ZUFqYXg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZ2V0QWxsTW9uZXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2FqYXgoZ29vZHNpZCwgdXJsKTtcblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog6K6h566X5Lu36ZKxXG4gICAgICAgICAgICAgKiBAQXV0aG9yICAgaVNBTVxuICAgICAgICAgICAgICogQERhdGVUaW1lIDIwMTctMDgtMTBUMTQ6MjE6MjArMDgwMFxuICAgICAgICAgICAgICogQHBhcmFtICAgIHtudW1iZXJ9ICAgICAgbnVtIFvmlbDph49dXG4gICAgICAgICAgICAgKiBAcGFyYW0gICAge251bWJlcn0gICAgICBwcmkgW+WNleS7t11cbiAgICAgICAgICAgICAqIEByZXR1cm4gICB7bnVtYmVyfSAgICAgICAgICBb5oC75Lu3XVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfYWxsTW9uZXk6IGZ1bmN0aW9uIF9hbGxNb25leShudW0sIHByaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIoKG51bSAqIHByaSkudG9GaXhlZCgyKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FkZHplcm86IGZ1bmN0aW9uIF9hZGR6ZXJvKG51bSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKChudW0gKyAnJykuaW5kZXhPZignLicpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVtID0gbnVtICsgJy4wMCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzdHIgPSAobnVtICsgJycpLnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bSArICcwJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FqYXg6IGZ1bmN0aW9uIF9hamF4KGlkcywgdXJsLCBmbiwgYWxsTnVtKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoYWxsTnVtICE9PSB2b2lkKDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbJ251bSddID0gYWxsTnVtO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGFbJ2lkcyddID0gaWRzICsgJyc7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxOdW0gPT09IHZvaWQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHt9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIENhbGN1bGF0aW9uQ2FyO1xuICAgIH0oKTtcblxuICAgICQuZm4uQ2FsY3VsYXRpb25DYXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICBpbnN0YW5jZSA9ICR0aGlzLmRhdGEoJ2J1eWNhci1jYWxjdWxhdGlvbicpO1xuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCdidXljYXItY2FsY3VsYXRpb24nLCBpbnN0YW5jZSA9IG5ldyBDYWxjdWxhdGlvbkNhcigkdGhpcywgb3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuICAgICQuZm4uQ2FsY3VsYXRpb25DYXIuZGVmYXVsdHMgPSB7XG4gICAgICAgIGRpcmVjdGlvbjogMTAwMFxuICAgIH07XG5cblxuICAgIHZhciBvYmogPSAkKCcjbHVuZ19idXljYXInKS5DYWxjdWxhdGlvbkNhcih7XG4gICAgICAgIGRlbGV0ZUFqYXg6ICcvY2FydC9kZWwnLFxuICAgICAgICBjaGFuZ0NvdW50QWpheDogJy9jYXJ0L2NoYW5nZU51bWJlcidcbiAgICB9KTtcbn0pIl19"}